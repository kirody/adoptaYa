<div class="flex justify-content-center align-items-center h-full">
  <p-card header="Registro de Usuario" subheader="Crea tu cuenta en AdoptaYa" [style]="{width: '400px'}">
    <form [formGroup]="registerForm" (ngSubmit)="register()">
      <div class="field flex flex-column gap-2 mb-4">
        <label for="username">Nombre de usuario</label>
        <input
          pInputText
          id="username"
          formControlName="username"
          aria-describedby="username-help"
          [class.p-invalid]="username?.invalid && (username?.dirty || username?.touched)"
        />
        @if (username?.invalid && (username?.dirty || username?.touched)) {
        <small id="username-help" class="p-error">
          @if (username?.errors?.['required']) {
          <span>El nombre de usuario es requerido.</span>
          } @if (username?.errors?.['minlength']) {
          <span>El nombre debe tener al menos 3 caracteres.</span>
          }
        </small>
        }
      </div>

      <div class="field flex flex-column gap-2 mb-4">
        <label for="email">Correo Electrónico</label>
        <input
          pInputText
          id="email"
          formControlName="email"
          aria-describedby="email-help"
          [class.p-invalid]="email?.invalid && (email?.dirty || email?.touched)"
        />
        @if (email?.invalid && (email?.dirty || email?.touched)) {
        <small id="email-help" class="p-error">
          @if (email?.errors?.['required']) {
          <span>El correo es requerido.</span>
          } @if (email?.errors?.['email']) {
          <span>Por favor, ingresa un correo válido.</span>
          }
        </small>
        }
      </div>

      <div class="field flex flex-column gap-2 mb-4">
        <label for="password">Contraseña</label>
        <p-password inputId="password" [toggleMask]="true" formControlName="password" styleClass="w-full" inputStyleClass="w-full" [feedback]="false" [class.p-invalid]="password?.invalid && (password?.dirty || password?.touched)"></p-password>
        @if (password?.invalid && (password?.dirty || password?.touched)) {
        <small id="password-help" class="p-error">
          <span>La contraseña debe tener al menos 6 caracteres.</span>
        </small>
        }
      </div>

      <p-button label="Registrarse" type="submit" styleClass="w-full" [disabled]="registerForm.invalid"></p-button>
    </form>
    <div class="mt-3 text-center">
      <span>¿Ya tienes una cuenta? </span>
      <a routerLink="/login">Inicia sesión</a>
    </div>
  </p-card>
</div>

