<div class="auth-container">
  <p-dialog
    [(visible)]="displayDialog"
    [modal]="true"
    [style]="{ width: '350px' }"
    [draggable]="false"
    [resizable]="false"
  >
    <ng-template pTemplate="header">
      <div class="flex align-items-center">
        <!-- <i class="pi pi-exclamation-triangle mr-2 text-red-500" style="font-size: 1.2rem;"></i> -->
        <span class="font-bold">AVISO</span>
      </div>
    </ng-template>

    <div class="flex align-items-center gap-3">
      <i class="pi pi-times-circle text-red-500" style="font-size: 2.5rem"></i>
      <span class="font-medium">{{ dialogMessage }}</span>
    </div>

    <ng-template pTemplate="footer">
      <p-button label="Cerrar" (click)="displayDialog=false" styleClass="p-button-text"></p-button>
    </ng-template>
  </p-dialog>

  <p-card styleClass="auth-card">
    <ng-template pTemplate="title">
      <div class="auth-title">
        <i class="pi pi-user mr-2"></i>
        Iniciar Sesión
      </div>
    </ng-template>

    <ng-template pTemplate="content">
      <div *ngIf="isLoading" class="flex justify-content-center align-items-center py-6">
        <p-progressSpinner></p-progressSpinner>
      </div>

      <form *ngIf="!isLoading" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="field">
          <label for="email" class="form-label">Correo Electrónico</label>
          <input id="email" type="email" pInputText formControlName="email" class="w-full" placeholder="tu@email.com" />
        </div>

        <div class="field">
          <label for="password" class="form-label">Contraseña</label>
          <p-password inputId="password" [feedback]="false" formControlName="password" styleClass="w-full"
            inputStyleClass="w-full" [toggleMask]="true"></p-password>
        </div>

        <div class="mt-4">
          <p-button label="Acceder" styleClass="w-full" type="submit" [disabled]="form.invalid"></p-button>
        </div>
      </form>
    </ng-template>

    <ng-template pTemplate="footer">
      <div class="auth-footer">
        <span>¿No tienes una cuenta?</span>
        <a routerLink="/register" class="font-semibold ml-2">Regístrate aquí</a>
      </div>
    </ng-template>
  </p-card>
</div>
